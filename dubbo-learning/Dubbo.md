## Dubbo学习

学习Dubbo之前可以先了解下单体应用架构,SOA架构与微服务架构.

### 单体应用架构:
>顾名思义,一个应用程序的所有的模块,功能,服务等等都包含在一个归档包(jar,war)之中,这是一种比较传统的架构方式.

#### 单体应用架构的缺点:
##### 1.复杂度高
>>整个架构的模块,功能非常多,模块和功能之间的职责边界模糊,模块之间的耦合性很高,依赖混乱,还有可能代码的质量参差不齐,整个项目的复杂度很高,
>当需要修改其中某个功能代码块的时候,有可能牵一发动全身.

##### 2.扩展能力受限，无法按需伸缩
>> 单体应用只能整体进行扩展,不能进行模块的扩展

##### 3.阻碍技术创新
>> 单体应用一般使用统一平台的语言进行编写,所以如果想引进新技术较为困难.

##### 4.技术债务(难以维护)逐渐增加
>>随着时间的推移,技术迭代,需求变更,人员更迭,整个项目越来越难维护(越来越变得像坨xx),不断积压技术债务,已使用的技术难以修改.

### SOA架构(Service-Oriented Architecture 面向服务):
>所谓的面向服务,其实是面向接口.SOA是WebService技术的一种延伸,了解WebService的话就知道,WebService的通信方式是与平台无关的.
>比如一个提供实时天气查询的在线网站,那么都知道天气这种服务,普通网站是提供不了的,一般都是气象局(打个比方)发布的吧,那么不同的网站可以调用气象局提供的接口
>来提供数据给用户.这其中每个网站使用的技术平台可能不同,所以WebService只需要提供相应的规范(通信方式(http,rpc等)数据传输的格式(json,xml等)),然后平台发起请求获取相应的数据就行了.
>这样一来,无论你想提供什么服务,只要与真正提供数据的接口约定好通信方式和数据传输格式,就能完成请求.WebService是如此,那么SOA架构也类似.
>SOA架构把不同的服务进行拆分,服务之间使用接口进行通信,接口独立于平台,操作系统,这样一来,就实现了架构的松耦合,扩展性强等特点.

### 微服务架构(分布式)
>对于微服务和SOA的区别,由于我能力有限,暂时不能理解,不过我查阅相关资料时,大概确定,微服务是SOA衍生出来的一种概念,只不过由于2者还是有些细微区别,所以便叫他微服务了,这是关于这个问题的链接:
> [SOA和微服务架构的区别](https://www.zhihu.com/question/37808426).

>谈谈我对于微服务的理解,可能有错误之处,所以如果有缘看到这里的同学,还是请自行动手查阅相关资料.
如果对于微服务有过了解的同学可能已经知道,微服务系统的每个服务都可以独立运行.那么这些可以独立运行的服务究竟是什么?
微服务强调彻底的组件化和服务化.什么意思? 一个系统可能有登录和注册模块,如果不采用微服务架构,那么可能登录和注册是在一个应用里,两个服务可能有共同依赖的dao模块,
那么到了微服务这里就不一样了:登录和注册作为2个独立的应用程序,登录服务有相应的dao模块,注册服务也有自己dao模块.

>那么这还只是登录和注册2个服务就分离了,如果比较复杂的系统和较大的体量,几十上百这样的微服务应该也不算奇怪吧.一个系统由这些单独的服务组成,每个服务单独编写,开发,服务之间通过Http,Rpc等方式进行通信,
>这样就组成了以微服务为架构的系统.听说Netflix有几百个微服务,不知道是不是真的.总之在我看来,这样是真的分离的很彻底,每个服务的指责划分也很清楚,但是这样开发成本应该不小吧.

之前在没有接触这方面知识的时候,一度把Dubbo和SpringCloud搞混淆,纠结我该学哪个框架,Dubbo的功能还比SpringCloud的功能少,就该学新技术SpringCloud.当然不是这样的,
因为我潜意识里就把2者弄混了,以为二者都是微服务框架,准确来说Dubbo应该是SOA的落地实现,SpringCloud才是微服务的落地实现,所以这不再是你该学哪个框架的问题,而是你想更加深入了解哪种架构的问题.

#### 剩下补充2个常见的概念:集群和分布式.关于集群和分布式的区别,知乎上有大神已经回答了这个问题,我就不再详说:[集群和分布式的区别?](https://www.zhihu.com/question/20004877)

### RPC (Remote Procedure Call)协议
>RPC协议是Dubbo的底层支撑协议,所以学习Dubbo,必先了解RPC协议.
>
>RPC,远程过程调用.维基百科对于RPC的定义为:
>RPC是计算机的通信协议.RPC协议允许运行于一台计算机上的程序调用另一个地址空间(通常为另一台开放的计算机)的子程序,
>而程序员就像调用本地程序一样,无需额外的为这个交互作用编程(无需关注其细节).
>
>RPC是一种客户端(服务调用放)-服务端(服务提供方)的模式.就像上面介绍SOA时说的那样,客户端只需要调用服务端指定的接口,
>即可调用服务端提供的服务.RPC主要依赖于序列化,反序列化和通信传输协议等技术.

>>其实映射到Java中来说,可以理解为:一个程序运行在服务器A上,一个程序运行在服务器B上,那么程序A可以以RPC协议调用服务器B上正在运行程序的
>某个方法.

```
使用较多的RPC解决方案有:JAVA原生的RMI,Apache Dubbo,Thrift,Hessian,gRPC等.
```

### Dubbo概述
>Dubbo最早是阿里开源的一个高性能,轻量级的Java RPC框架,中间停止维护了一段时间,后又重新恢复更新,并捐献给Apache,现为Apache
>顶级项目.
>Dubbo提供了:面向接口的远程方法调用,智能容错与负载均衡以及服务注册与发现3大核心功能.

>Dubbo设计架构:
![dubbo架构设计](../img/dubbo架构图.png)
* Registry: 服务注册与发现的注册中心.允许服务提供者注册服务,当消费者(服务调用者)调用某个服务的时候,就到Registry中查询已注册的服务,从而实现服务调用.
* Consumer: 服务调用者.
* Provider: 服务提供者,向外暴露服务接口,并将服务注册到注册中心.
* Container: 服务提供者运行的容器.
* Monitor: 监控中心. 统计服务的调用次数和调用时间的监控中心

其实我觉得Dubbo的官方文档写的已经非常好了,demo也非常齐全,关于Dubbo的学习,在这里也推荐Dubbo的官方文档:
[Dubbo官方文档](https://dubbo.apache.org/zh-cn/index.html)